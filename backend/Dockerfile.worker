FROM python:3.10-slim
WORKDIR /app
ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1
COPY requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r /app/requirements.txt
COPY . /app
# Default command can be overridden by compose
CMD ["python", "scripts/embedding_worker.py", "--group", "embedder", "--consumer", "docker-worker"]


